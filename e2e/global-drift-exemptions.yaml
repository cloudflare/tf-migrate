# Global Drift Exemptions
#
# These exemptions apply to ALL resources unless overridden by resource-specific configs.
# Use for common patterns: computed fields, known provider behaviors, etc.

version: 1

exemptions:
  # Standard computed field exemptions
  - name: "computed_value_refreshes"
    description: "Ignore attributes that refresh to 'known after apply'"
    patterns:
      - '\(known after apply\)'
      - '= \{\} -> null'
    enabled: true

  # HTML entity encoding differences between v4 and v5 providers
  - name: "html_entity_encoding"
    description: "V4 and V5 providers handle HTML entities differently in string fields"
    patterns:
      - '&#39;.*->.*\x27'     # &#39; -> ' (single quote)
      - '&#34;.*->.*"'        # &#34; -> " (double quote)
      - '&amp;.*->.*&'        # &amp; -> & (ampersand)
      - '\x27.*->.*&#39;'     # ' -> &#39; (reverse direction)
      - '".*->.*&#34;'        # " -> &#34; (reverse direction)
      - '&.*->.*&amp;'        # & -> &amp; (reverse direction)
    enabled: true

# Global settings
settings:
  apply_exemptions: true
  verbose_exemptions: false

  # Warn if exemption doesn't match anything (helps catch stale exemptions)
  warn_unused_exemptions: false

  # Load resource-specific exemption configs
  load_resource_exemptions: true
