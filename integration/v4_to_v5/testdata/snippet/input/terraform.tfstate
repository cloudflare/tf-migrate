{
  "version": 4,
  "terraform_version": "1.5.0",
  "serial": 1,
  "lineage": "test-lineage",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "minimal",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_minimal",
            "main_module": "main.js",
            "files": [
              {
                "name": "main.js",
                "content": "export default {\n  async fetch(request, env, ctx) {\n    const response = await fetch(request);\n    const newHeaders = new Headers(response.headers);\n    \n    // Your custom logic here\n    newHeaders.set(\"x-snippet-type\", \"inline-terraform-string\");\n\n    return new Response(response.body, {\n      status: response.status,\n      statusText: response.statusText,\n      headers: newHeaders,\n    });\n  }\n};\n"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "multi_file",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_multi",
            "main_module": "index.js",
            "files": [
              {
                "name": "index.js",
                "content": "export default { fetch() { return new Response('Hello'); } }"
              },
              {
                "name": "utils.js",
                "content": "export function helper() { return 42; }"
              },
              {
                "name": "config.js",
                "content": "export default {\"key\": \"value\"};"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "special_chars",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_special",
            "main_module": "special.js",
            "files": [
              {
                "name": "special.js",
                "content": "export default { fetch() { const msg = \"Hello, \\\"World\\\"!\"; return new Response(msg); } }"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "with_count",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_count_0",
            "main_module": "main.js",
            "files": [
              {
                "name": "main.js",
                "content": "export default { fetch(r) { console.log('Index: 0'); return fetch(r); } }"
              }
            ]
          }
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_count_1",
            "main_module": "main.js",
            "files": [
              {
                "name": "main.js",
                "content": "export default { fetch(r) { console.log('Index: 1'); return fetch(r); } }"
              }
            ]
          }
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_count_2",
            "main_module": "main.js",
            "files": [
              {
                "name": "main.js",
                "content": "export default { fetch(r) { console.log('Index: 2'); return fetch(r); } }"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "with_for_each_set",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "index_key": "api",
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_api",
            "main_module": "api.js",
            "files": [
              {
                "name": "api.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Snippet for api"
              }
            ]
          }
        },
        {
          "index_key": "web",
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_web",
            "main_module": "web.js",
            "files": [
              {
                "name": "web.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Snippet for web"
              }
            ]
          }
        },
        {
          "index_key": "worker",
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_worker",
            "main_module": "worker.js",
            "files": [
              {
                "name": "worker.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Snippet for worker"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "with_for_each_map",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "index_key": "dev",
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_dev",
            "main_module": "development.js",
            "files": [
              {
                "name": "development.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Environment: dev"
              }
            ]
          }
        },
        {
          "index_key": "prod",
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_prod",
            "main_module": "production.js",
            "files": [
              {
                "name": "production.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Environment: prod"
              }
            ]
          }
        },
        {
          "index_key": "staging",
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_staging",
            "main_module": "staging.js",
            "files": [
              {
                "name": "staging.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Environment: staging"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "conditional",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_conditional",
            "main_module": "custom.js",
            "files": [
              {
                "name": "custom.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Custom"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "multiline",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_multiline",
            "main_module": "app.js",
            "files": [
              {
                "name": "app.js",
                "content": "export default {\n  async fetch(request) {\n    return new Response('Hello World!');\n  }\n}\n"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "with_jsonencode",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_json",
            "main_module": "index.js",
            "files": [
              {
                "name": "index.js",
                "content": "const config = {\"debug\":true,\"key\":\"value\"}; export default { fetch(r) { return new Response(JSON.stringify(config)); } }"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "interpolated",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_interpolated",
            "main_module": "index.js",
            "files": [
              {
                "name": "index.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // test_snippet"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "with_lifecycle",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_lifecycle",
            "main_module": "main.js",
            "files": [
              {
                "name": "main.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Lifecycle test"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "with_depends_on",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_depends",
            "main_module": "dependent.js",
            "files": [
              {
                "name": "dependent.js",
                "content": "export default { fetch(r) { return fetch(r); } }; // Depends on minimal snippet"
              }
            ]
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_snippet",
      "name": "long_content",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "zone_id": "abc123def456",
            "name": "cftftest_long",
            "main_module": "worker.js",
            "files": [
              {
                "name": "worker.js",
                "content": "// This is a comprehensive worker script\nexport default {\n  async fetch(request, env, ctx) {\n    const url = new URL(request.url);\n\n    // Handle different routes\n    switch (url.pathname) {\n      case '/api':\n        return handleAPI(request);\n      case '/health':\n        return new Response('OK', { status: 200 });\n      default:\n        return new Response('Not Found', { status: 404 });\n    }\n  }\n}\n\nasync function handleAPI(request) {\n  const data = await request.json();\n  return new Response(JSON.stringify(data), {\n    headers: { 'Content-Type': 'application/json' }\n  });\n}\n"
              }
            ]
          }
        }
      ]
    }
  ]
}
