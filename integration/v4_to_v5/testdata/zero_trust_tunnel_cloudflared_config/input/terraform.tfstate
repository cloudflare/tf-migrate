{
  "version": 4,
  "terraform_version": "1.5.0",
  "serial": 1,
  "lineage": "test-lineage-zero-trust-tunnel-config",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "cloudflare_zero_trust_tunnel_cloudflared",
      "name": "minimal",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "b0000000-0000-0000-0000-000000000001",
            "account_id": "f037e56e89293a057740de681ac9abbe",
            "name": "cftftest-minimal-tunnel",
            "secret": "dGVzdC1zZWNyZXQtdGhhdC1pcy1hdC1sZWFzdC0zMi1ieXRlcy1sb25n"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_zero_trust_tunnel_cloudflared",
      "name": "comprehensive",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "b0000000-0000-0000-0000-000000000002",
            "account_id": "f037e56e89293a057740de681ac9abbe",
            "name": "cftftest-comprehensive-tunnel",
            "secret": "YW5vdGhlci1zZWNyZXQtMzItYnl0ZXMtb3ItbG9uZ2VyLWhlcmU="
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_zero_trust_tunnel_cloudflared",
      "name": "deprecated_name",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "b0000000-0000-0000-0000-000000000003",
            "account_id": "f037e56e89293a057740de681ac9abbe",
            "name": "cftftest-deprecated-tunnel",
            "secret": "ZGVwcmVjYXRlZC10dW5uZWwtc2VjcmV0LTMyLWJ5dGVzLW1pbmltdW0="
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_zero_trust_tunnel_cloudflared_config",
      "name": "minimal",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "f037e56e89293a057740de681ac9abbe",
            "tunnel_id": "b0000000-0000-0000-0000-000000000001",
            "config": [
              {
                "ingress_rule": [
                  {
                    "service": "http_status:404"
                  }
                ]
              }
            ]
          },
          "dependencies": [
            "cloudflare_zero_trust_tunnel_cloudflared.minimal"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_tunnel_config",
      "name": "deprecated_name",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "f037e56e89293a057740de681ac9abbe",
            "tunnel_id": "b0000000-0000-0000-0000-000000000003",
            "config": [
              {
                "ingress_rule": [
                  {
                    "hostname": "app.example.com",
                    "service": "http://localhost:8080"
                  },
                  {
                    "service": "http_status:404"
                  }
                ]
              }
            ]
          },
          "dependencies": [
            "cloudflare_zero_trust_tunnel_cloudflared.deprecated_name"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "cloudflare_tunnel_config",
      "name": "comprehensive",
      "provider": "provider[\"registry.terraform.io/cloudflare/cloudflare\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "f037e56e89293a057740de681ac9abbe",
            "tunnel_id": "b0000000-0000-0000-0000-000000000002",
            "config": [
              {
                "warp_routing": [
                  {
                    "enabled": true
                  }
                ],
                "origin_request": [
                  {
                    "connect_timeout": "30s",
                    "tls_timeout": "10s",
                    "tcp_keep_alive": "1m30s",
                    "keep_alive_timeout": "1m30s",
                    "keep_alive_connections": 100,
                    "http_host_header": "example.com",
                    "origin_server_name": "origin.example.com",
                    "ca_pool": "/path/to/ca.pem",
                    "no_tls_verify": false,
                    "disable_chunked_encoding": false,
                    "bastion_mode": true,
                    "proxy_address": "127.0.0.1",
                    "proxy_port": 8080,
                    "proxy_type": "",
                    "ip_rules": [
                      {
                        "prefix": "192.0.2.0/24",
                        "ports": [80, 443],
                        "allow": true
                      }
                    ],
                    "access": [
                      {
                        "required": true,
                        "team_name": "my-team",
                        "aud_tag": ["abc123"]
                      }
                    ]
                  }
                ],
                "ingress_rule": [
                  {
                    "hostname": "app.example.com",
                    "service": "http://localhost:8080",
                    "path": "/api",
                    "origin_request": [
                      {
                        "connect_timeout": "15s",
                        "tls_timeout": "5s",
                        "ip_rules": [
                          {
                            "prefix": "198.51.100.0/24",
                            "allow": false
                          }
                        ],
                        "access": [
                          {
                            "required": false
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "hostname": "api.example.com",
                    "service": "http://localhost:3000"
                  },
                  {
                    "service": "http_status:404"
                  }
                ]
              }
            ]
          },
          "dependencies": [
            "cloudflare_zero_trust_tunnel_cloudflared.comprehensive"
          ]
        }
      ]
    }
  ]
}
